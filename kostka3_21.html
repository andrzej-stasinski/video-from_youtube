<!DOCTYPE HTML>
<html>
<head>
	<meta charset="utf-8">
	<title>Kostka 3x - 2 sposób</title>
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">	
	<link rel="stylesheet" href="./css/base.css">
	<link id="pagestyle" rel="stylesheet" href="./css/large.css">
	<script src="./js/script.js"></script>
<style>
	button {
		margin-top: 5px;
		font-size:18px;
		padding:5px;
		width:220px;
	}
	div a {
		text-decoration: none;
		color:#666;
	}
	div a:link {

	}	
	div a:hover {
		text-decoration: underline;
		color:#333;
	}
	div span {
		font-size:24px;
	}
</style>
<script>
	var scrollY = 0;
	var distance = 20;
	var speed = 25;

	function moveTop(alg) {
		var currentY   = window.pageYOffset;
		var div        = document.getElementById(alg);
		var targetY    = div.offsetTop;

		console.log('currentY   = ' + currentY);
		console.log('targetY    = ' + targetY);

		var animate = setTimeout('moveTop(\''+alg+'\')', speed);

		// Zabezpieczenie przed drganiami
		// --------------------------------
		// Gdy currentY < targetY. Sytuacja gdy warunek nie zostanie spełniony
		// animacja nie jest wyzrowana. Trzeba wymusi zerowanie animacji
		var bodyHeight = document.body.offsetHeight;
		// +1 ponieważ drgania s gdy jest właczona - Console
		var yPos       = currentY + window.innerHeight + 1;
		console.log('bodyHeight = ' + bodyHeight);
		console.log('yPos       = ' + yPos);
		if(yPos > bodyHeight) {
			clearTimeout(animate);
		}

		// Warunek animacji
		// --------------------------------
		if(currentY < targetY) {
			scrollY = currentY + distance;
			window.scroll(0, scrollY);
		} else {
			// Warunek dokładnego dociagniecia DIV z Tytułem Video
			// ---------------------------------------------------
			console.log('clearTimeout currentY   = ' + currentY);
			while(currentY > targetY) {
				currentY--;
			}
			window.scroll(0, currentY);
			console.log('WHILE Finish. clearTimeout currentY   = ' + currentY);
			clearTimeout(animate);
			
		};
	}

	function moveDown(wrapper) {
		var currentY   = window.pageYOffset;
		var div        = document.getElementById(wrapper);
		var targetY    = div.offsetTop;

		console.log('currentY   = ' + currentY);
		console.log('targetY    = ' + targetY);

		var animate = setTimeout('moveDown(\''+wrapper+'\')', speed);

		if(currentY > targetY) {
			scrollY = currentY - distance;
			console.log('scrollY = ' + scrollY);
			window.scroll(0, scrollY);
			console.log('currentY = ' + window.pageYOffset);

		} else {
			clearTimeout(animate);
		}
		console.log('====================================');
	}	

</script>
</head>

<body>

	<div id="wrapper">
		<nav>
			<ul>
				<li><a href="index.html">Start</a></li>
				<li><a href="kostka2.html">Kostka x2</a></li>
				<li class="active"><a href="kostka3.html">Kostka x3</a></li>
				<li><a href="speed.html">Nauka szybkości</a></li>
			</ul>
		</nav>	
		<h3>Układanie kostki 3x3x3 - drugi sposób</h3>
		
		<div style="width:220px;margin: 0px auto;">
		<button onclick="moveTop('alg1');">1.Biały krzyż</button><br/>
		<button onclick="moveTop('alg2');">2.Rogi górnej ściany</button><br/>
		<button onclick="moveTop('alg3');">3.Drugi rząd</button><br/>
		<button onclick="moveTop('alg4');">4.Rogi trzeciego rzędu</button><br/>
		<button onclick="moveTop('alg5');">5.Dolna ściana</button><br/>			
		</div>


		<!-- 1 -->
		<div id="alg1" class="tytul">Biały krzyż</div>
		<video controls poster="img/kostka3_21/k1_krzyz.png">
			<source src="video/kostka3_21/alg1_krzyz.mp4" type='video/mp4; codecs="avc1.42E01E, mp4a.40.2"'>
		</video>
		<div><span>&#9754</span><a href="#" onclick="return false;" onmousedown="moveDown('wrapper');"> Powrót</a></div>


		<!-- 2 -->
		<div id="alg2" class="tytul">Rogi górnej ściany</div>
		<video controls poster="img/kostka3_21/k2_rogi_gornej_sciany.png">
			<source src="video/kostka3_21/alg2_rogi_gornej_sciany.mp4" type='video/mp4; codecs="avc1.42E01E, mp4a.40.2"'>
		</video>
		<div><span>&#9754</span><a href="#" onclick="return false;" onmousedown="moveDown('wrapper');">Powrót</a></div>

		<!-- 3 -->
		<div id="alg3" class="tytul">Drugi rząd</div>
		<video controls poster="img/kostka3_21/k3_drugi_poziom.png">
			<source src="video/kostka3_21/alg3_drugi_poziom.mp4" type='video/mp4; codecs="avc1.42E01E, mp4a.40.2"'>
		</video>
		<div><span>&#9754</span><a href="#" onclick="return false;" onmousedown="moveDown('wrapper');">Powrót</a></div>

		<!-- 4 -->
		<div id="alg4" class="tytul">Rogi trzeciego rzędu</div>
		<video controls poster="img/kostka3_21/k4_rogi_3go_poziomu.png">
			<source src="video/kostka3_21/alg4_rogi_3go_poziomu.mp4" type='video/mp4; codecs="avc1.42E01E, mp4a.40.2"'>
		</video>
		<div><span>&#9754</span><a href="#" onclick="return false;" onmousedown="moveDown('wrapper');">Powrót</a></div>

		<!-- 5 -->
		<div id="alg5" class="tytul">Dolna ściana</div>
		<video controls poster="img/kostka3_21/k5_dolna_sciana.png">
			<source src="video/kostka3_21/alg5_dolna_sciana.mp4" type='video/mp4; codecs="avc1.42E01E, mp4a.40.2"'>
		</video>
		<div><span>&#9754</span><a href="#" onclick="return false;" onmousedown="moveDown('wrapper');">Powrót</a></div>

		<div style="height:60px;"></div>

		<footer>
			Copyright by AS - 2018
		</footer>		
	</div>

</body>
</html>
